{% extends "base.html" %}
{% block title %}{{ mode }}{% endblock %}
{% block content %}
  <div class="card">
    <h2 class="card-title">{{ mode }}</h2>

    {# NOTE: あえて forms.py を使っていない（リファクタ課題） #}
    {% if error %}
      <div class="alert">{{ error }}</div>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <label class="label">タイトル</label>
      <input type="text" name="title" value="{{ memo.title|default:'' }}" />

      <label class="label">本文</label>
      <textarea name="body" rows="10">{{ memo.body|default:'' }}</textarea>

      <label class="label">タグ（カンマ区切り）</label>
      <input type="text" name="tags" value="{{ tags|default:'' }}" placeholder="例: django, refactor, copilot" />

      <div class="row">
        <button class="btn" type="submit">保存</button>
        <a class="btn secondary" href="/">戻る</a>
      </div>
    </form>
  </div>
{% endblock %}
